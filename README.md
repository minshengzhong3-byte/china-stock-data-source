# üöÄ China Stock Data Source

‰∏Ä‰∏™‰∏ì‰∏∫‰∏≠ÂõΩAËÇ°Â∏ÇÂú∫ËÆæËÆ°ÁöÑÁªü‰∏ÄÊï∞ÊçÆÊ∫êÊ®°ÂùóÔºåÊï¥ÂêàÂ§ö‰∏™Êï∞ÊçÆÊèê‰æõÂïÜÔºåÊèê‰æõÁ®≥ÂÆöÂèØÈù†ÁöÑËÇ°Á•®Êï∞ÊçÆËé∑ÂèñÊúçÂä°„ÄÇ

## ‚ú® Ê†∏ÂøÉÁâπÊÄß

### üîÑ Â§öÊï∞ÊçÆÊ∫êÊîØÊåÅ
- **ABuÈáèÂåñÊ°ÜÊû∂ÈõÜÊàê** - Âü∫‰∫éÊàêÁÜüÁöÑÈáèÂåñ‰∫§ÊòìÊ°ÜÊû∂
- **AShareÊï∞ÊçÆÊ∫ê** - È´òË¥®ÈáèÁöÑAËÇ°Êï∞ÊçÆÊé•Âè£
- **Êô∫ËÉΩÊïÖÈöúËΩ¨Áßª** - Ëá™Âä®ÂàáÊç¢ÂèØÁî®Êï∞ÊçÆÊ∫ê
- **Ë¥üËΩΩÂùáË°°** - ÂàÜÊï£ËØ∑Ê±ÇÂéãÂäõÔºåÊèêÈ´òÁ®≥ÂÆöÊÄß

### üõ°Ô∏è Áªü‰∏ÄÊï∞ÊçÆÊ†ºÂºè
- **Ê†áÂáÜÂåñÊé•Âè£** - Áªü‰∏ÄÁöÑÊï∞ÊçÆÁªìÊûÑÂíåË∞ÉÁî®ÊñπÂºè
- **Êï∞ÊçÆË¥®ÈáèÈ™åËØÅ** - Ëá™Âä®Ê£ÄÊµãÂíåËøáÊª§ÂºÇÂ∏∏Êï∞ÊçÆ
- **Ê†ºÂºèËΩ¨Êç¢** - Ëá™Âä®Â§ÑÁêÜ‰∏çÂêåÊï∞ÊçÆÊ∫êÁöÑÊ†ºÂºèÂ∑ÆÂºÇ
- **Á±ªÂûãÂÆâÂÖ®** - ÂÆåÊï¥ÁöÑÁ±ªÂûãÊ≥®Ëß£ÂíåÈ™åËØÅ

### ‚ö° È´òÊÄßËÉΩÁºìÂ≠ò
- **Êô∫ËÉΩÁºìÂ≠òÁ≠ñÁï•** - ÂáèÂ∞ëÈáçÂ§çËØ∑Ê±ÇÔºåÊèêÈ´òÂìçÂ∫îÈÄüÂ∫¶
- **ÂèØÈÖçÁΩÆËøáÊúüÊó∂Èó¥** - ÁÅµÊ¥ªÁöÑÁºìÂ≠òÁÆ°ÁêÜ
- **ÂÜÖÂ≠ò‰ºòÂåñ** - È´òÊïàÁöÑÂÜÖÂ≠ò‰ΩøÁî®ÂíåÂûÉÂúæÂõûÊî∂
- **Âπ∂ÂèëÂÆâÂÖ®** - ÊîØÊåÅÂ§öÁ∫øÁ®ãÁéØÂ¢É

### ü§ñ AIÂèãÂ•ΩËÆæËÆ°
- **ÁÆÄÊ¥ÅAPI** - ‰∏ì‰∏∫Â§ßÊ®°ÂûãËÆæËÆ°ÁöÑÁõ¥ËßÇÊé•Âè£
- **‰∏∞ÂØåÁ§∫‰æã** - ÂÆåÊï¥ÁöÑAIÈõÜÊàêÁ§∫‰æãÂíåÊñáÊ°£
- **ÁâπÂæÅÂ∑•Á®ã** - ÂÜÖÁΩÆÂ∏∏Áî®ÊäÄÊúØÊåáÊ†áËÆ°ÁÆó
- **ÊâπÈáèÂ§ÑÁêÜ** - ÊîØÊåÅÈ´òÊïàÁöÑÊâπÈáèÊï∞ÊçÆËé∑Âèñ

### üìä ÈáèÂåñ‰∫§Êòì‰ºòÂåñ
- **ÂÆûÊó∂Êï∞ÊçÆ** - ÊØ´ÁßíÁ∫ßÁöÑÂÆûÊó∂‰ª∑Ê†ºÊõ¥Êñ∞
- **ÂéÜÂè≤Êï∞ÊçÆ** - ÂÆåÊï¥ÁöÑÂéÜÂè≤KÁ∫øÊï∞ÊçÆ
- **ÊäÄÊúØÊåáÊ†á** - ÂÜÖÁΩÆÂ∏∏Áî®ÊäÄÊúØÂàÜÊûêÊåáÊ†á
- **ÂõûÊµãÊîØÊåÅ** - ‰∏∫Á≠ñÁï•ÂõûÊµã‰ºòÂåñÁöÑÊï∞ÊçÆÊ†ºÂºè

## üöÄ Âø´ÈÄüÂºÄÂßã

### ÂÆâË£Ö‰æùËµñ

```bash
pip install -r requirements.txt
```

### Âü∫Êú¨‰ΩøÁî®

```python
from unified_data_source import UnifiedDataSource, get_realtime_price

# ÂàõÂª∫Êï∞ÊçÆÊ∫êÂÆû‰æã
ds = UnifiedDataSource()

# Ëé∑ÂèñÂÆûÊó∂ËÇ°Á•®‰ª∑Ê†º
price_info = ds.get_realtime_price('000001')
print(f"Âπ≥ÂÆâÈì∂Ë°åÂΩìÂâç‰ª∑Ê†º: {price_info['price']}")

# Ëé∑ÂèñÂéÜÂè≤Êï∞ÊçÆ
history_data = ds.get_history_data(
    symbol='000001',
    start_date='2024-01-01',
    end_date='2024-01-31'
)
print(f"Ëé∑ÂèñÂà∞ {len(history_data)} Êù°ÂéÜÂè≤Êï∞ÊçÆ")
```

## üìÅ È°πÁõÆÁªìÊûÑ

```
china-stock-data-source/
‚îú‚îÄ‚îÄ src/                          # Ê†∏ÂøÉÊ∫ê‰ª£Á†Å
‚îÇ   ‚îú‚îÄ‚îÄ __init__.py              # ÂåÖÂàùÂßãÂåñ
‚îÇ   ‚îú‚îÄ‚îÄ unified_data_source.py   # Áªü‰∏ÄÊï∞ÊçÆÊ∫ê‰∏ªÊ®°Âùó
‚îÇ   ‚îú‚îÄ‚îÄ abu_source.py            # ABuÊï∞ÊçÆÊ∫êÈÄÇÈÖçÂô®
‚îÇ   ‚îî‚îÄ‚îÄ ashare_source.py         # AShareÊï∞ÊçÆÊ∫êÈÄÇÈÖçÂô®
‚îú‚îÄ‚îÄ examples/                     # ‰ΩøÁî®Á§∫‰æã
‚îÇ   ‚îú‚îÄ‚îÄ quantitative_trading_example.py  # ÈáèÂåñ‰∫§ÊòìÁ§∫‰æã
‚îÇ   ‚îú‚îÄ‚îÄ ai_integration_guide.py          # AIÈõÜÊàêÊåáÂçó
‚îÇ   ‚îî‚îÄ‚îÄ ai_model_integration.py          # AIÊ®°ÂûãÈõÜÊàêÁ§∫‰æã
‚îú‚îÄ‚îÄ tests/                       # ÊµãËØïÊñá‰ª∂
‚îÇ   ‚îî‚îÄ‚îÄ test_unified_data_source.py     # ÂçïÂÖÉÊµãËØï
‚îú‚îÄ‚îÄ docs/                        # ÊñáÊ°£
‚îÇ   ‚îú‚îÄ‚îÄ AI_QUICK_START.md        # AIÂø´ÈÄüÂºÄÂßãÊåáÂçó
‚îÇ   ‚îú‚îÄ‚îÄ AI_INTEGRATION_QUICK_REFERENCE.md # AIÈõÜÊàêÂø´ÈÄüÂèÇËÄÉ
‚îÇ   ‚îî‚îÄ‚îÄ API_REFERENCE.md         # APIÂèÇËÄÉÊñáÊ°£
‚îú‚îÄ‚îÄ .github/workflows/           # CI/CDÈÖçÁΩÆ
‚îÇ   ‚îî‚îÄ‚îÄ ci.yml                   # GitHub ActionsÂ∑•‰ΩúÊµÅ
‚îú‚îÄ‚îÄ requirements.txt             # È°πÁõÆ‰æùËµñ
‚îú‚îÄ‚îÄ pyproject.toml              # È°πÁõÆÈÖçÁΩÆ
‚îú‚îÄ‚îÄ setup.py                    # ÂÆâË£ÖËÑöÊú¨
‚îú‚îÄ‚îÄ Dockerfile                  # DockerÈÖçÁΩÆ
‚îú‚îÄ‚îÄ .gitignore                  # GitÂøΩÁï•Êñá‰ª∂
‚îú‚îÄ‚îÄ CHANGELOG.md                # Êõ¥Êñ∞Êó•Âøó
‚îú‚îÄ‚îÄ CONTRIBUTING.md             # Ë¥°ÁåÆÊåáÂçó
‚îî‚îÄ‚îÄ README.md                   # È°πÁõÆËØ¥Êòé
```

## üîß Êï∞ÊçÆÊ∫ê‰ºòÂÖàÁ∫ß

Á≥ªÁªüÊåâ‰ª•‰∏ã‰ºòÂÖàÁ∫ßÂ∞ùËØïÊï∞ÊçÆÊ∫êÔºö

1. **ABuÊï∞ÊçÆÊ∫ê** - ‰∏ªË¶ÅÊï∞ÊçÆÊ∫êÔºåÁ®≥ÂÆöÊÄßÈ´ò
2. **AShareÊï∞ÊçÆÊ∫ê** - Â§áÁî®Êï∞ÊçÆÊ∫êÔºåÊï∞ÊçÆ‰∏∞ÂØå
3. **Ëá™Âä®ÊïÖÈöúËΩ¨Áßª** - Êô∫ËÉΩÂàáÊç¢Âà∞ÂèØÁî®Ê∫ê

ÂèØ‰ª•ÈÄöËøáÈÖçÁΩÆËá™ÂÆö‰πâ‰ºòÂÖàÁ∫ßÔºö

```python
ds = UnifiedDataSource(source_priority=['ashare', 'abu'])
```

## ü§ñ AIÈõÜÊàêÊåáÂçó

### ‰∏∫Â§ßÊ®°ÂûãÂºÄÂèëËÄÖ

Êú¨Ê®°Âùó‰∏ì‰∏∫AIÂ∫îÁî®ËÆæËÆ°ÔºåÊèê‰æõÁÆÄÊ¥ÅÁõ¥ËßÇÁöÑÊé•Âè£Ôºö

```python
# Âø´ÈÄüËé∑ÂèñËÇ°Á•®ÁâπÂæÅÊï∞ÊçÆ
from examples.ai_model_integration import AIStockDataProvider

ai_provider = AIStockDataProvider()
features = ai_provider.get_stock_features('000001', days=60)

# ÁâπÂæÅÊï∞ÊçÆÂåÖÂê´Ôºö
# - ÊäÄÊúØÊåáÊ†á (RSI, MACD, ÁßªÂä®Âπ≥ÂùáÁ≠â)
# - ‰ª∑Ê†ºÂèòÂåñ (1Êó•„ÄÅ5Êó•„ÄÅ20Êó•Êî∂ÁõäÁéá)
# - Êàê‰∫§ÈáèÊåáÊ†á (Êàê‰∫§ÈáèÊØîÁéá„ÄÅÂπ≥ÂùáÊàê‰∫§Èáè)
# - Ê≥¢Âä®ÁéáÂíåÈ£éÈô©ÊåáÊ†á
```

### ÈáèÂåñÁ≠ñÁï•ÈõÜÊàê

```python
# ÁÆÄÂçïÁßªÂä®Âπ≥ÂùáÁ≠ñÁï•Á§∫‰æã
def simple_ma_strategy(symbol, short_window=5, long_window=20):
    # Ëé∑ÂèñÂéÜÂè≤Êï∞ÊçÆ
    df = ds.get_history_data(symbol, start_date='2024-01-01')
    
    # ËÆ°ÁÆóÁßªÂä®Âπ≥Âùá
    df['ma_short'] = df['close'].rolling(short_window).mean()
    df['ma_long'] = df['close'].rolling(long_window).mean()
    
    # ÁîüÊàê‰∫§Êòì‰ø°Âè∑
    df['signal'] = 0
    df.loc[df['ma_short'] > df['ma_long'], 'signal'] = 1  # ‰π∞ÂÖ•‰ø°Âè∑
    df.loc[df['ma_short'] < df['ma_long'], 'signal'] = -1  # ÂçñÂá∫‰ø°Âè∑
    
    return df

# ‰ΩøÁî®Á§∫‰æã
strategy_result = simple_ma_strategy('000001')
print(f"ÊúÄÊñ∞‰ø°Âè∑: {strategy_result['signal'].iloc[-1]}")
```

## üìä ÈáèÂåñ‰∫§ÊòìÁ§∫‰æã

ÂÆåÊï¥ÁöÑÈáèÂåñ‰∫§ÊòìÁ§∫‰æãËØ∑ÂèÇËÄÉ `examples/quantitative_trading_example.py`Ôºö

```python
from unified_data_source import get_stock_data, get_realtime_price

# Ëé∑ÂèñËÇ°Á•®Êï∞ÊçÆ
stock_data = get_stock_data('000001', days=30)
if stock_data is not None:
    print(f"Ëé∑ÂèñÂà∞ {len(stock_data)} Êù°Êï∞ÊçÆ")
    
    # ËÆ°ÁÆóÁÆÄÂçïÁßªÂä®Âπ≥Âùá
    stock_data['MA5'] = stock_data['close'].rolling(5).mean()
    stock_data['MA20'] = stock_data['close'].rolling(20).mean()
    
    # Ëé∑ÂèñÊúÄÊñ∞‰ª∑Ê†º
    current_price = get_realtime_price('000001')
    if current_price:
        print(f"ÂΩìÂâç‰ª∑Ê†º: {current_price['price']}")
        print(f"Ê∂®Ë∑åÂπÖ: {current_price['change_percent']:.2f}%")
else:
    print("Êó†Ê≥ïËé∑ÂèñËÇ°Á•®Êï∞ÊçÆ")
```

## üìö APIÂèÇËÄÉ

### ‰∏ªË¶ÅÂáΩÊï∞

#### `get_stock_data(symbol, start_date, end_date, **kwargs)`

Ëé∑ÂèñËÇ°Á•®ÂéÜÂè≤Êï∞ÊçÆ„ÄÇ

**ÂèÇÊï∞Ôºö**
- `symbol` (str): ËÇ°Á•®‰ª£Á†ÅÔºåÂ¶Ç '000001'
- `start_date` (str): ÂºÄÂßãÊó•ÊúüÔºåÊ†ºÂºè 'YYYY-MM-DD'
- `end_date` (str, ÂèØÈÄâ): ÁªìÊùüÊó•ÊúüÔºåÈªòËÆ§‰∏∫‰ªäÂ§©
- `**kwargs`: ÂÖ∂‰ªñÂèÇÊï∞

**ËøîÂõûÔºö**
- `pandas.DataFrame`: ÂåÖÂê´ÂºÄÈ´ò‰ΩéÊî∂ÈáèÁ≠âÊï∞ÊçÆÁöÑDataFrame
- `None`: Ëé∑ÂèñÂ§±Ë¥•Êó∂ËøîÂõû

#### `get_realtime_price(symbol, **kwargs)`

Ëé∑ÂèñËÇ°Á•®ÂÆûÊó∂‰ª∑Ê†º‰ø°ÊÅØ„ÄÇ

**ÂèÇÊï∞Ôºö**
- `symbol` (str): ËÇ°Á•®‰ª£Á†Å
- `**kwargs`: ÂÖ∂‰ªñÂèÇÊï∞

**ËøîÂõûÔºö**
- `dict`: ÂåÖÂê´‰ª∑Ê†º„ÄÅÊ∂®Ë∑åÂπÖ„ÄÅÊàê‰∫§ÈáèÁ≠â‰ø°ÊÅØÁöÑÂ≠óÂÖ∏
- `None`: Ëé∑ÂèñÂ§±Ë¥•Êó∂ËøîÂõû

### UnifiedDataSourceÁ±ª

#### ÂàùÂßãÂåñÂèÇÊï∞

```python
UnifiedDataSource(
    source_priority=['abu', 'ashare'],  # Êï∞ÊçÆÊ∫ê‰ºòÂÖàÁ∫ß
    cache_expire=300,                   # ÁºìÂ≠òËøáÊúüÊó∂Èó¥(Áßí)
    max_retries=3,                      # ÊúÄÂ§ßÈáçËØïÊ¨°Êï∞
    timeout=10                          # ËØ∑Ê±ÇË∂ÖÊó∂Êó∂Èó¥(Áßí)
)
```

#### Ê†∏ÂøÉÊñπÊ≥ï

- `get_realtime_price(symbol)` - Ëé∑ÂèñÂÆûÊó∂‰ª∑Ê†º
- `get_history_data(symbol, start_date, end_date)` - Ëé∑ÂèñÂéÜÂè≤Êï∞ÊçÆ
- `normalize_symbol(symbol)` - Ê†áÂáÜÂåñËÇ°Á•®‰ª£Á†Å
- `test_all_sources()` - ÊµãËØïÊâÄÊúâÊï∞ÊçÆÊ∫êÁä∂ÊÄÅ
- `get_usage_stats()` - Ëé∑Âèñ‰ΩøÁî®ÁªüËÆ°‰ø°ÊÅØ

## üõ†Ô∏è ÂºÄÂèëÊåáÂçó

### Êú¨Âú∞ÂºÄÂèë

1. ÂÖãÈöÜ‰ªìÂ∫ìÔºö
```bash
git clone https://github.com/minshengzhong3-byte/china-stock-data-source.git
cd china-stock-data-source
```

2. ÂÆâË£Ö‰æùËµñÔºö
```bash
pip install -r requirements.txt
```

3. ËøêË°åÊµãËØïÔºö
```bash
python -m pytest tests/
```

### Ê∑ªÂä†Êñ∞Êï∞ÊçÆÊ∫ê

1. Âú® `src/` ÁõÆÂΩï‰∏ãÂàõÂª∫Êñ∞ÁöÑÊï∞ÊçÆÊ∫êÈÄÇÈÖçÂô®
2. ÂÆûÁé∞Ê†áÂáÜÊé•Âè£Ôºö`get_realtime_price()` Âíå `get_history_data()`
3. Âú® `unified_data_source.py` ‰∏≠Ê≥®ÂÜåÊñ∞Êï∞ÊçÆÊ∫ê
4. Ê∑ªÂä†Áõ∏Â∫îÁöÑÊµãËØïÁî®‰æã

## ü§ù Ë¥°ÁåÆÊåáÂçó

Êàë‰ª¨Ê¨¢ËøéÊâÄÊúâÂΩ¢ÂºèÁöÑË¥°ÁåÆÔºÅËØ∑Êü•Áúã [CONTRIBUTING.md](CONTRIBUTING.md) ‰∫ÜËß£ËØ¶ÁªÜ‰ø°ÊÅØ„ÄÇ

### ‰ª£Á†ÅËßÑËåÉ

- ÈÅµÂæ™ PEP 8 ‰ª£Á†ÅÈ£éÊ†º
- ‰ΩøÁî® Black ËøõË°å‰ª£Á†ÅÊ†ºÂºèÂåñ
- Ê∑ªÂä†Á±ªÂûãÊ≥®Ëß£
- ÁºñÂÜôÂçïÂÖÉÊµãËØï
- Êõ¥Êñ∞Áõ∏ÂÖ≥ÊñáÊ°£

## üìÑ ËÆ∏ÂèØËØÅ

Êú¨È°πÁõÆÈááÁî® MIT ËÆ∏ÂèØËØÅ - Êü•Áúã [LICENSE](LICENSE) Êñá‰ª∂‰∫ÜËß£ËØ¶ÊÉÖ„ÄÇ

## üôè Ëá¥Ë∞¢

- [ABuÈáèÂåñ‰∫§ÊòìÁ≥ªÁªü](https://github.com/bbfamily/abu) - Êèê‰æõÊ†∏ÂøÉÈáèÂåñÊ°ÜÊû∂ÊîØÊåÅ
- [AShare](https://github.com/jindaxiang/akshare) - Êèê‰æõ‰∏∞ÂØåÁöÑAËÇ°Êï∞ÊçÆÊé•Âè£
- ÊâÄÊúâË¥°ÁåÆËÄÖÂíåÁî®Êà∑ÁöÑÊîØÊåÅ

## üìû ËÅîÁ≥ªÊàë‰ª¨

- **GitHub Issues**: [Êèê‰∫§ÈóÆÈ¢òÂíåÂª∫ËÆÆ](https://github.com/minshengzhong3-byte/china-stock-data-source/issues)
- **Email**: minshengzhong3@gmail.com
- **È°πÁõÆ‰∏ªÈ°µ**: https://github.com/minshengzhong3-byte/china-stock-data-source

## üìà Êõ¥Êñ∞Êó•Âøó

Êü•Áúã [CHANGELOG.md](CHANGELOG.md) ‰∫ÜËß£ÁâàÊú¨Êõ¥Êñ∞ÂéÜÂè≤„ÄÇ

---

‚≠ê Â¶ÇÊûúËøô‰∏™È°πÁõÆÂØπ‰Ω†ÊúâÂ∏ÆÂä©ÔºåËØ∑ÁªôÊàë‰ª¨‰∏Ä‰∏™ÊòüÊ†áÔºÅ

üîÑ ÊåÅÁª≠Êõ¥Êñ∞‰∏≠ÔºåÊ¨¢ËøéÂÖ≥Ê≥®È°πÁõÆÂä®ÊÄÅÔºÅ